namespace: fleet-mc-helm-example
targetCustomizations:
- name: dev
  helm:
    values:
      replication: false
    valuesFrom:
      - secretKeyRef:
          name: secret-values
          namespace: fleet-mc-helm-example
          key: values.yaml
  clusterSelector:
    matchLabels:
      env: dev

- name: test
  helm:
    valuesFrom:
      - configMapKeyRef:
          name: config-values
          namespace: fleet-mc-helm-example
          key: values.yaml
  clusterSelector:
    matchLabels:
      env: test

- name: prod
  helm:
    values:
      serviceType: LoadBalancer
      replicas: 3
    valuesFrom:
    - secretKeyRef:
        name: secret-values
        key: values.yaml
  clusterSelector:
    matchLabels:
      env: prod
